// Generated by CoffeeScript 1.3.3
(function() {

  $(function() {
    var $container, chunk_lines, groups, line_words, lines, spans, word, _i, _j, _len, _len1, _line;
    this.text_utils = new TextUtils();
    $container = $(".container");
    spans = this.text_utils.split_to_elements($container.html());
    spans = $container.html(spans).children();
    groups = _.groupBy(spans, function(span) {
      return $(span).offset().top;
    });
    chunk_lines = _.toArray(groups);
    lines = [];
    for (_i = 0, _len = chunk_lines.length; _i < _len; _i++) {
      _line = chunk_lines[_i];
      line_words = "";
      for (_j = 0, _len1 = _line.length; _j < _len1; _j++) {
        word = _line[_j];
        line_words += word.innerHTML;
      }
      lines.push("<div class='line'>" + line_words + "</div>");
    }
    $container.html(lines);
    return $(".line").each(function(i, line) {
      $(this).css({
        position: "absolute",
        top: i * $(this).height()
      });
      return TweenMax.from($(line), 1.4, {
        css: {
          top: "+=50",
          rotation: 50,
          opacity: 0
        },
        delay: i * .04,
        ease: Quint.easeInOut
      });
    });
  });

}).call(this);
